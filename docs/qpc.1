.\" Automatically generated by Pandoc 2.7.2
.\"
.TH "qpc" "1" "June 6, 2019" "version 0.9.1" "QPC Command Line Guide"
.hy
.SH Name
.PP
qpc - Inspect and report on product entitlement metadata from various
sources, including networks and systems management solutions.
.SH Synopsis
.PP
\f[C]qpc command subcommand [options]\f[R]
.SH Description
.PP
The Quipucords tool, accessed through the \f[C]qpc\f[R] command, is an
inspection and reporting tool.
It is designed to identify environment data, or \f[I]facts\f[R], such as
the number of physical and virtual systems on a network, their operating
systems, and other configuration data.
In addition, it is designed to identify and report more detailed facts
for some versions of key Red Hat packages and products for the Linux
based IT resources in that network.
The ability to inspect the software and systems that are running on your
network improves your ability to understand and report on your
entitlement usage.
Ultimately, this inspection and reporting process is part of the larger
system administration task of managing your inventories.
.PP
The Quipucords tool uses two types of configuration to manage the
inspection process.
A \f[I]credential\f[R] contains configuration such as the user name and
password or SSH key of the user that runs the inspection process.
A \f[I]source\f[R] defines the entity to be inspected and one or more
credentials to use during the inspection process.
The entity to be inspected can be a host, subnet, network, or systems
management solution such as vCenter Server or Satellite.
You can save multiple credentials and sources to use with Quipucords in
various combinations as you run inspection processes, or
\f[I]scans\f[R].
When you have completed a scan, you can access the output as a
\f[I]report\f[R] to review the results.
.PP
By default, the credentials and sources that are created when using
Quipucords are encrypted in a database.
The values are encrypted with AES-256 encryption.
They are decrypted when the Quipucords server runs a scan by using a
\f[I]vault password\f[R] to access the encrypted values that are stored
in the database.
.PP
The Quipucords tool is an \f[I]agentless\f[R] inspection tool, so there
is no need to install the tool on the sources to be inspected.
.PP
This manual page describes the commands, subcommands, and options for
the \f[C]qpc\f[R] command and includes usage information and example
commands.
.SH Usage
.PP
The \f[C]qpc\f[R] command has several subcommands that encompass the
inspection and reporting workflow.
Within that workflow, \f[C]qpc\f[R] performs the following major tasks:
.IP \[bu] 2
Logging in to the server:
.RS 2
.PP
\f[C]qpc server login --username admin\f[R]
.RE
.IP \[bu] 2
Creating credentials:
.RS 2
.PP
\f[C]qpc cred add --name=credname1 --type=type --username=user1 --password\f[R]
.RE
.IP \[bu] 2
Creating sources:
.RS 2
.PP
\f[C]qpc source add --name=sourcename1 --type=type --hosts server1.example.com server2.example.com --cred credname1 credname2\f[R]
.RE
.IP \[bu] 2
Creating scans:
.RS 2
.PP
\f[C]qpc scan add --name=scan1 --sources sourcename1 sourcename2\f[R]
.RE
.IP \[bu] 2
Running a scan:
.RS 2
.PP
\f[C]qpc scan start --name=scan1\f[R]
.RE
.IP \[bu] 2
Working with scans:
.RS 2
.PP
\f[C]qpc scan show --name=scan1\f[R]
.RE
.IP \[bu] 2
Working with scan jobs:
.RS 2
.PP
\f[C]qpc scan job --id=1\f[R]
.RE
.IP \[bu] 2
Generating reports:
.RS 2
.PP
\f[C]qpc report deployments --id 1 --csv --output-file=\[ti]/scan_result.csv\f[R]
.RE
.PP
The following sections describe these commands, their subcommands, and
their options in more detail.
They also describe additional tasks that are not highlighted in the
previous list of major workflow tasks.
.SH Server Authentication
.PP
Use the \f[C]qpc server\f[R] command to configure connectivity with the
server and to log in to and log out of the server.
.SS Configuring the server
.PP
To configure the connection to the server, supply the host address.
Supplying a port for the connection is optional.
.PP
\f[B]qpc server config --host=\f[R] \f[I]host\f[R] \f[B][--port=\f[R]
\f[I]port\f[R] \f[B]]\f[R]
.PP
\f[C]--host=host\f[R]
.RS
.PP
Required.
Sets the host address for the server.
If you are running the \f[C]qpc\f[R] command on the same system as the
server, the default host address for the server is \f[C]127.0.0.1\f[R].
.RE
.PP
\f[C]--port=port\f[R]
.RS
.PP
Optional.
Sets the port to use to connect to the server.
The default is \f[C]9443\f[R].
.RE
.SS Logging in to the server
.PP
To log in to the server after the connection is configured, use the
\f[C]login\f[R] subcommand.
This command retrieves a token that is used for authentication with any
command line interface commands that follow it.
.PP
\f[B]qpc server login [--username=\f[R] \f[I]username\f[R] \f[B]]\f[R]A
source defines the entity to be inspected, such as a host, subnet,
network, or systems management solution such as vCenter Server or
Satellite, plus includes one or more credentials to use to access that
network or systems management solution during the inspection process.
.PP
\f[C]--username=username\f[R]
.RS
.PP
Optional.
Sets the user name that is used to log in to the server.
.RE
.SS Logging out of the server
.PP
To log out of the server, use the \f[C]logout\f[R] subcommand.
This command removes the token that was created when the \f[C]login\f[R]
command was used.
.PP
\f[B]qpc server logout\f[R]
.SS Viewing the server status
.PP
To view or save the status information for the server, use the
\f[C]status\f[R] subcommand.
This command returns data about your Quipucords server environment, such
as server build and API versions, environment variable information,
installed prerequisites and versions, and other server metadata that can
help diagnose issues during troubleshooting.
.PP
\f[B]qpc server status [--output-file\f[R] \f[I]path\f[R] \f[B]]\f[R]
.PP
\f[C]--output-file=path\f[R]
.RS
.PP
Optional.
Sets the path to a file location where the status information is saved.
.RE
.SH Credentials
.PP
Use the \f[C]qpc cred\f[R] command to create and manage credentials.
.PP
A credential contains user name and password or SSH key information that
is used for authentication during a scan.
The Quipucords tool uses SSH to connect to servers on the network and
uses credentials to access those servers.
.PP
When a scan runs, it uses a source that contains information such as the
host names, IP addresses, a network, or a systems management solution to
be accessed.
The source also contains references to the credentials that are required
to access those systems.
A single source can contain a reference to multiple credentials as
needed to connect to all systems in that network or systems management
solution.
.SS Creating and Editing Credentials
.PP
To create a credential, supply the type of credential and supply SSH
credentials as either a user name-password pair or a user name-key pair.
The Quipucords tool stores each set of credentials in a separate
credential entry.
.PP
\f[B]qpc cred add --name=\f[R] \f[I]name\f[R] \f[B]--type=\f[R]
\f[I](network | vcenter | satellite)\f[R] \f[B]--username=\f[R]
\f[I]username\f[R] \f[B](--password | --sshkeyfile=\f[R]
\f[I]key_file\f[R] \f[B])\f[R] \f[B][--sshpassphrase]\f[R]
\f[B]--become-method=\f[R] \f[I](sudo | su | pbrun | pfexec | doas |
dzdo | ksu | runas )\f[R] \f[B]--become-user=\f[R] \f[I]user\f[R]
\f[B][--become-password]\f[R]
.PP
\f[C]--name=name\f[R]
.RS
.PP
Required.
Sets the name of the new credential.
For the value, use a descriptive name that is meaningful to your
organization.
For example, you could identify the user or server that the credential
relates to, such as \f[C]admin12\f[R] or \f[C]server1_jdoe\f[R].
Do not include the password as part of this value, because the value for
the \f[C]--name\f[R] option might be logged or printed during
\f[C]qpc\f[R] execution.
.RE
.PP
\f[C]--type=type\f[R]
.RS
.PP
Required.
Sets the type of credential.
The value must be \f[C]network\f[R], \f[C]vcenter\f[R], or
\f[C]satellite\f[R].
The type cannot be edited after a credential is created.
.RE
.PP
\f[C]--username=username\f[R]
.RS
.PP
Required.
Sets the user name of the SSH identity that is used to bind to the
server.
.RE
.PP
\f[C]--password\f[R]
.RS
.PP
Prompts for the password for the \f[C]--username\f[R] identity.
Mutually exclusive with the \f[C]--sshkeyfile\f[R] option.
.RE
.PP
\f[C]--sshkeyfile=key_file\f[R]
.RS
.PP
Sets the path of the file that contains the private SSH key for the
\f[C]--username\f[R] identity.
Mutually exclusive with the \f[C]--password\f[R] option.
.RE
.PP
\f[C]--sshpassphrase\f[R]
.RS
.PP
Prompts for the passphrase to be used when connecting with an SSH
keyfile that requires a passphrase.
Can only be used with the \f[C]--sshkeyfile\f[R] option.
.RE
.PP
\f[C]--become-method=become_method\f[R]
.RS
.PP
Sets the method to become for privilege escalation when running a
network scan.
The value must be \f[C]sudo\f[R], \f[C]su\f[R], \f[C]pbrun\f[R],
\f[C]pfexec\f[R], \f[C]doas\f[R], \f[C]dzdo\f[R], \f[C]ksu\f[R], or
\f[C]runas\f[R].
The default is set to \f[C]sudo\f[R] when the credential type is
\f[C]network\f[R].
.RE
.PP
\f[C]--become-user=user\f[R]
.RS
.PP
Sets the user to become when running a privileged command during a
network scan.
.RE
.PP
\f[C]--become-password\f[R]
.RS
.PP
Prompts for the privilege escalation password to be used when running a
network scan.
.RE
.PP
The information in a credential might change, including passwords,
become passwords, SSH keys, the become_method, or even the user name.
For example, network security might require passwords to be updated
every few months.
Use the \f[C]qpc cred edit\f[R] command to change credential
information.
The parameters for \f[C]qpc cred edit\f[R] are the same as those for
\f[C]qpc cred add\f[R].
.PP
\f[B]qpc cred edit --name=\f[R] \f[I]name\f[R] \f[B]--username=\f[R]
\f[I]username\f[R] \f[B](--password | --sshkeyfile=\f[R]
\f[I]key_file\f[R] \f[B])\f[R] \f[B][--sshpassphrase]\f[R]
\f[B]--become-method=\f[R] \f[I](sudo | su | pbrun | pfexec | doas |
dzdo | ksu | runas )\f[R] \f[B]--become-user=\f[R] \f[I]user\f[R]
\f[B][--become-password]\f[R]
.SS Listing and Showing Credentials
.PP
The \f[C]qpc cred list\f[R] command returns the details for every
credential that is configured for Quipucords.
This output includes the name, user name, password, SSH keyfile, and
sudo password for each entry.
Passwords are masked if provided, if not, they will appear as
\f[C]null\f[R].
.PP
\f[B]qpc cred list --type=\f[R] \f[I](network | vcenter |
satellite)\f[R]
.PP
\f[C]--type=type\f[R]
.RS
.PP
Optional.
Filters the results by credential type.
The value must be \f[C]network\f[R], \f[C]vcenter\f[R], or
\f[C]satellite\f[R].
.RE
.PP
The \f[C]qpc cred show\f[R] command is the same as the
\f[C]qpc cred list\f[R] command, except that it returns details for a
single specified credential.
.PP
\f[B]qpc cred show --name=\f[R] \f[I]name\f[R]
.PP
\f[C]--name=name\f[R]
.RS
.PP
Required.
Contains the name of the credential entry to display.
.RE
.SS Clearing Credentials
.PP
As the network infrastructure changes, it might be necessary to delete
some credentials.
Use the \f[C]clear\f[R] subcommand to delete credentials.
.PP
\f[B]IMPORTANT:\f[R] Remove or change the credential from any source
that uses it \f[I]before\f[R] clearing a credential.
Otherwise, any attempt to use the source to run a scan runs the command
with a nonexistent credential, an action that causes the \f[C]qpc\f[R]
command to fail.
.PP
\f[B]qpc cred clear (--name\f[R] \f[I]name\f[R] \f[B]| --all)\f[R]
.PP
\f[C]--name=name\f[R]
.RS
.PP
Contains the credential to clear.
Mutually exclusive with the \f[C]--all\f[R] option.
.RE
.PP
\f[C]--all\f[R]
.RS
.PP
Clears all credentials.
Mutually exclusive with the \f[C]--name\f[R] option.
.RE
.SH Sources
.PP
Use the \f[C]qpc source\f[R] command to create and manage sources.
.PP
A source contains a single entity or a set of multiple entities that are
to be inspected.
A source can be one or more physical machines, virtual machines, or
containers, or it can be a collection of network information, including
IP addresses or host names, or it can be information about a systems
management solution such as vCenter Server or Satellite.
The source also contains information about the SSH ports and SSH
credentials that are needed to access the systems to be inspected.
The SSH credentials are provided through reference to one or more of the
Quipucords credentials that you configure.
.PP
When you configure a scan, it contains references to one or more
sources, including the credentials that are provided in each source.
Therefore, you can reference sources in different scan configurations
for various purposes, for example, to scan your entire infrastructure or
a specific sector of that infrastructure.
.SS Creating and Editing Sources
.PP
To create a source, supply the type of source with the \f[C]type\f[R]
option, one or more host names or IP addresses to connect to with the
\f[C]--hosts\f[R] option, and the credentials needed to access those
systems with the \f[C]--cred\f[R] option.
The \f[C]qpc source\f[R] command allows multiple entries for the
\f[C]hosts\f[R] and \f[C]cred\f[R] options.
Therefore, a single source can access a collection of servers and
subnets as needed to create an accurate and complete scan.
.PP
\f[B]qpc source add --name=\f[R] \f[I]name\f[R] \f[B]--type=\f[R]
\f[I](network | vcenter | satellite)\f[R] \f[B]--hosts\f[R]
\f[I]ip_address\f[R] \f[B]--cred\f[R] \f[I]credential\f[R]
\f[B][--exclude-hosts\f[R] \f[I]ip_address\f[R] \f[B]]\f[R]
\f[B][--port=\f[R] \f[I]port\f[R] \f[B]]\f[R] \f[B][--use-paramiko=\f[R]
\f[I](True | False)\f[R] \f[B]]\f[R] \f[B][--ssl-cert-verify=\f[R]
\f[I](True | False)\f[R] \f[B]]\f[R] \f[B][--ssl-protocol=\f[R]
\f[I]protocol\f[R] \f[B]]\f[R] \f[B][--disable-ssl=\f[R] \f[I](True |
False)\f[R] \f[B]]\f[R]
.PP
\f[C]--name=name\f[R]
.RS
.PP
Required.
Sets the name of the new source.
For the value, use a descriptive name that is meaningful to your
organization, such as \f[C]APSubnet\f[R] or \f[C]Lab3\f[R].
.RE
.PP
\f[C]--type=type\f[R]
.RS
.PP
Required.
Sets the type of source.
The value must be \f[C]network\f[R], \f[C]vcenter\f[R], or
\f[C]satellite\f[R].
The type cannot be edited after a source is created.
.RE
.PP
\f[C]--hosts ip_address\f[R]
.RS
.PP
Sets the host name, IP address, or IP address range to use when running
a scan.
You can also provide a path for a file that contains a list of host
names or IP addresses or ranges, where each item is on a separate line.
The following examples show several different formats that are allowed
as values for the \f[C]--hosts\f[R] option:
.IP \[bu] 2
A specific host name:
.RS 2
.PP
\f[C]--hosts server.example.com\f[R]
.RE
.IP \[bu] 2
A specific IP address:
.RS 2
.PP
\f[C]--hosts 192.0.2.19\f[R]
.RE
.IP \[bu] 2
An IP address range, provided in CIDR or Ansible notation.
This value is only valid for the \f[C]network\f[R] type:
.RS 2
.PP
\f[C]--hosts 192.0.2.[0:255]\f[R] or \f[C]--hosts 192.0.2.0/24\f[R]
.RE
.IP \[bu] 2
A file:
.RS 2
.PP
\f[C]--hosts /home/user1/hosts_file\f[R]
.RE
.RE
.PP
\f[C]--exclude-hosts ip_address\f[R]
.RS
.PP
Optional.
Sets the host name, IP address, or IP address range to exclude when
running a scan.
Values for this option use the same formatting as the \f[C]--hosts\f[R]
option examples.
.RE
.PP
\f[C]--cred credential\f[R]
.RS
.PP
Contains the name of the credential to use to authenticate to the
systems that are being scanned.
If the individual systems that are being scanned each require different
authentication credentials, you can use more than one credential.
To add multiple credentials to the source, separate each value with a
space, for example:
.PP
\f[C]--cred first_auth second_auth\f[R]
.PP
\f[B]IMPORTANT:\f[R] A credential must exist before you attempt to use
it in a source.
A credential must be of the same type as the source.
.RE
.PP
\f[C]--port=port\f[R]
.RS
.PP
Optional.
Sets a port to be used for the scan.
This value supports connection and inspection on a non-standard port.
By default, a Network scan runs on port 22, and a vCenter or Satellite
scan runs on port 443.
.RE
.PP
\f[C]--use-paramiko=(True | False)\f[R]
.RS
.PP
Optional.
Changes the Ansible connection method from the default open-ssh to the
python ssh implementation.
.RE
.PP
\f[C]--ssl-cert-verify=(True | False)\f[R]
.RS
.PP
Optional.
Determines whether SSL certificate validation will be performed for the
scan.
.RE
.PP
\f[C]--ssl-protocol=protocol\f[R]
.RS
.PP
Optional.
Determines the SSL protocol to be used for a secure connection during
the scan.
The value must be \f[C]SSLv23\f[R], \f[C]TLSv1\f[R], \f[C]LSv1_1\f[R],
or \f[C]TLSv1_2\f[R].
.RE
.PP
\f[C]--disable-ssl=(True | False)\f[R]
.RS
.PP
Optional.
Determines whether SSL communication will be disabled for the scan.
.RE
.PP
The information in a source might change as the structure of the network
changes.
Use the \f[C]qpc source edit\f[R] command to edit a source to
accommodate those changes.
.PP
Although \f[C]qpc source\f[R] options can accept more than one value,
the \f[C]qpc source edit\f[R] command is not additive.
To edit a source and add a new value for an option, you must enter both
the current and the new values for that option.
Include only the options that you want to change in the
\f[C]qpc source edit\f[R] command.
Options that are not included are not changed.
.PP
\f[B]qpc source edit --name\f[R] \f[I]name\f[R] \f[B][--hosts\f[R]
\f[I]ip_address\f[R] \f[B]] [--cred\f[R] \f[I]credential\f[R]
\f[B]]\f[R][--exclude-hosts** \f[I]ip_address\f[R] \f[B]] [--port=\f[R]
\f[I]port\f[R] \f[B]]\f[R] \f[B][--use-paramiko=\f[R] \f[I](True |
False)\f[R] \f[B]]\f[R] \f[B][--ssl-cert-verify=\f[R] \f[I](True |
False)\f[R] \f[B]]\f[R] \f[B][--ssl-protocol=\f[R] \f[I]protocol\f[R]
\f[B]]\f[R] \f[B][--disable-ssl=\f[R] \f[I](True | False)\f[R]
\f[B]]\f[R]
.PP
For example, if a source contains a value of \f[C]server1creds\f[R] for
the \f[C]--cred\f[R] option, and you want to change that source to use
both the \f[C]server1creds\f[R] and \f[C]server2creds\f[R] credentials,
you would edit the source as follows:
.PP
\f[C]qpc source edit --name=mysource --cred server1creds server2creds\f[R]
.PP
\f[B]TIP:\f[R] After editing a source, use the \f[C]qpc source show\f[R]
command to review those edits.
.SS Listing and Showing Sources
.PP
The \f[C]qpc source list\f[R] command returns the details for all
configured sources.
The output of this command includes the host names, IP addresses, or IP
ranges, the credentials, and the ports that are configured for each
source.
.PP
\f[B]qpc source list [--type=\f[R] \f[I](network | vcenter |
satellite)\f[R] \f[B]]\f[R]
.PP
\f[C]--type=type\f[R]
.RS
.PP
Optional.
Filters the results by source type.
The value must be \f[C]network\f[R], \f[C]vcenter\f[R], or
\f[C]satellite\f[R].
.RE
.PP
The \f[C]qpc source show\f[R] command is the same as the
\f[C]qpc source list\f[R] command, except that it returns details for a
single specified source.
.PP
\f[B]qpc source show --name=\f[R] \f[I]source\f[R]
.PP
\f[C]--name=source\f[R]
.RS
.PP
Required.
Contains the source to display.
.RE
.SS Clearing Sources
.PP
As the network infrastructure changes, it might be necessary to delete
some sources.
Use the \f[C]qpc source clear\f[R] command to delete sources.
.PP
\f[B]qpc source clear (--name=\f[R] \f[I]name\f[R] \f[B]| --all)\f[R]
.PP
\f[C]--name=name\f[R]
.RS
.PP
Contains the name of the source to clear.
Mutually exclusive with the \f[C]--all\f[R] option.
.RE
.PP
\f[C]--all\f[R]
.RS
.PP
Clears all stored sources.
Mutually exclusive with the \f[C]--name\f[R] option.
.RE
.SH Scans
.PP
Use the \f[C]qpc scan\f[R] command to create, run and manage scans.
.PP
A scan contains a set of one or more sources of any type plus additional
options that refine how the scan runs, such as the products to omit from
the scan and the maximum number of parallel system scans.
Because a scan can combine sources of different types, you can include
network and systems management solution, such as Satellite and vCenter
Server, sources in a single scan.
When you configure a scan to include multiple sources of different
types, for example, a Network source and a Satellite source, the same
part of your infrastructure might be scanned more than once.
The results for this type of scan could show duplicate information in
the reported results.
However, you have the option to view the unprocessed detailed report
that would show these duplicate results for each source type, or a
processed deployments report with deduplicated and merged results.
.PP
The creation of a scan groups sources, the credentials contained within
those sources, and the other options so that the act of running the scan
is repeatable.
When you run the scan, each instance is saved as a scan job.
.SS Creating and Editing Scans
.PP
Use the \f[C]qpc scan add\f[R] command to create scan objects with one
or more sources.
This command creates a scan object that references the supplied sources
and contains any options supplied by the user.
.PP
\f[B]qpc scan add --name\f[R] \f[I]name\f[R] \f[B]--sources=\f[R]
\f[I]source_list\f[R] \f[B][--max-concurrency=\f[R]
\f[I]concurrency\f[R] \f[B]]\f[R]
\f[B][--disabled-optional-products=\f[R] \f[I]products_list\f[R]
\f[B]]\f[R] \f[B][--enabled-ext-product-search=\f[R]
\f[I]products_list\f[R] \f[B]]\f[R]
\f[B][--ext-product-search-dirs=\f[R] \f[I]search_dirs_list\f[R]
\f[B]]\f[R]
.PP
\f[C]--sources=source_list\f[R]
.RS
.PP
Required.
Contains the list of source names to use to run the scan.
.RE
.PP
\f[C]--max-concurrency=concurrency\f[R]
.RS
.PP
Optional.
Sets the maximum number of parallel system scans.
If this value is not provided, the default is \f[C]50\f[R].
.RE
.PP
\f[C]--disabled-optional-products=products_list\f[R]
.RS
.PP
Optional.
Contains the list of products to exclude from inspection.
Valid values are \f[C]jboss_eap\f[R], \f[C]jboss_fuse\f[R],
\f[C]jboss_ws\f[R], and \f[C]jboss_brms\f[R].
.RE
.PP
\f[C]--enabled-ext-product-search=products_list\f[R]
.RS
.PP
Optional.
Contains the list of products to include for the extended product
search.
Extended product search is used to find products that might be installed
in non-default locations.
Valid values are \f[C]jboss_eap\f[R], \f[C]jboss_fuse\f[R],
\f[C]jboss_ws\f[R], and \f[C]jboss_brms\f[R].
.RE
.PP
\f[C]--ext-product-search-dirs=search_dirs_list\f[R]
.RS
.PP
Optional.
Contains a list of absolute paths of directories to search with the
extended product search.
This option uses the provided list of directories to search for the
presence of Red Hat JBoss Enterprise Application Platform (JBoss EAP),
Red Hat Fuse (formerly Red Hat JBoss Fuse), Red Hat JBoss Web Server
(JBoss Web Server), and Red Hat Decision Manager (formerly Red Hat JBoss
BRMS).
.RE
.PP
The information in a scan might change as the structure of the network
changes.
Use the \f[C]qpc scan edit\f[R] command to edit an existing scan to
accommodate those changes.
.PP
Although \f[C]qpc scan\f[R] options can accept more than one value, the
\f[C]qpc scan edit\f[R] command is not additive.
To edit a scan and add a new value for an option, you must enter both
the current and the new values for that option.
Include only the options that you want to change in the
\f[C]qpc scan edit\f[R] command.
Options that are not included are not changed.
.PP
\f[B]qpc scan edit --name\f[R] \f[I]name\f[R] \f[B][--sources=\f[R]
\f[I]source_list\f[R] \f[B]]\f[R] \f[B][--max-concurrency=\f[R]
\f[I]concurrency\f[R] \f[B]]\f[R]
\f[B][--disabled-optional-products=\f[R] \f[I]products_list\f[R]
\f[B]]\f[R] \f[B][--enabled-ext-product-search=\f[R]
\f[I]products_list\f[R] \f[B]]\f[R]
\f[B][--ext-product-search-dirs=\f[R] \f[I]search_dirs_list\f[R]
\f[B]]\f[R]
.PP
For example, if a scan contains a value of \f[C]network1source\f[R] for
the \f[C]--sources\f[R] option, and you want to change that scan to use
both the \f[C]network1source\f[R] and \f[C]satellite1source\f[R]
sources, you would edit the scan as follows:
.PP
\f[C]qpc scan edit --name=myscan --sources network1source satellite1source\f[R]
.PP
If you want to reset the \f[C]--disabled-optional-products\f[R],
\f[C]--enabled-ext-product-search\f[R], or
\f[C]--ext-product-search-dirs\f[R] back to their default values, you
must provide the flag without any product values.
.PP
For example, if you want to reset the
\f[C]--disabled-optional-products\f[R] option back to the default
values, you would edit the scan as follows:
.PP
\f[C]qpc scan edit --name=myscan --disabled-optional-products\f[R]
.PP
\f[B]TIP:\f[R] After editing a scan, use the \f[C]qpc scan show\f[R]
command to review those edits.
.SS Listing and Showing Scans
.PP
The \f[C]qpc scan list\f[R] command returns the summary details for all
created scan objects or all created scan objects of a certain type.
The output of this command includes the identifier, the source or
sources, and any options supplied by the user.
.PP
\f[B]qpc scan list\f[R] \f[B]--type=\f[R] \f[I](connect | inspect)\f[R]
.PP
\f[C]--type=type\f[R]
.RS
.PP
Optional.
Filters the results by scan type.
This value must be \f[C]connect\f[R] or \f[C]inspect\f[R].
A scan of type \f[C]connect\f[R] is a scan that began the process of
connecting to the defined systems in the sources, but did not transition
into inspecting the contents of those systems.
A scan of type \f[C]inspect\f[R] is a scan that moves into the
inspection process.
.RE
.PP
The \f[C]qpc scan show\f[R] command is the same as the
\f[C]qpc scan list\f[R] command, except that it returns summary details
for a single specified scan object.
.PP
\f[B]qpc scan show --name\f[R] \f[I]name\f[R]
.PP
\f[C]--name=name\f[R]
.RS
.PP
Required.
Contains the name of the scan object to display.
.RE
.SS Clearing Scans
.PP
As the network infrastructure changes, it might be necessary to delete
some scan objects.
Use the \f[C]qpc scan clear\f[R] command to delete scans.
.PP
\f[B]qpc scan clear (--name=\f[R] \f[I]name\f[R] \f[B]| --all)\f[R]
.PP
\f[C]--name=name\f[R]
.RS
.PP
Contains the name of the source to clear.
Mutually exclusive with the \f[C]--all\f[R] option.
.RE
.PP
\f[C]--all\f[R]
.RS
.PP
Clears all stored scan objects.
Mutually exclusive with the \f[C]--name\f[R] option
.RE
.SH Scanning
.PP
Use the \f[C]qpc scan start\f[R] command to create and run a scan job
from an existing scan object.
This command scans all of the host names or IP addresses that are
defined in the supplied sources of the scan object from which the job is
created.
Each instance of a scan job is assigned a unique numeric \f[I]scan job
identifier\f[R] to identify the scan results, so that the results data
can be viewed later.
Each instance of a scan job is also assigned a numeric \f[I]report
identifier\f[R] for the generated report data.
Because some scan jobs do not result in report generation, scan job
identifiers and report identifiers might not match.
.PP
\f[B]IMPORTANT:\f[R] If any SSH agent connection is set up for a target
host, that connection will be used as a fallback connection.
.PP
\f[B]qpc scan start --name\f[R] \f[I]scan_name\f[R]
.PP
\f[C]--name=name\f[R]
.RS
.PP
Contains the name of the scan object to run.
.RE
.SS Viewing Scan Jobs
.PP
The \f[C]qpc scan job\f[R] command returns the list of scan jobs for a
scan object or information about a single scan job for a scan object.
For the list of scan jobs, the output of this command includes the scan
job identifiers for each currently running or completed scan job, the
current state of each scan job, and the source or sources for that scan.
For information about a single scan job, the output of this command
includes status of the scan job, the start time of the scan job, and (if
applicable) the end time of the scan job.
.PP
\f[B]qpc scan job (--name\f[R] \f[I]scan_name\f[R] | \f[B]--id=\f[R]
\f[I]scan_job_identifier\f[R] \f[B]) --status=\f[R] \f[I](created |
pending | running | paused | canceled | completed | failed)\f[R]
.PP
\f[C]--name=name\f[R]
.RS
.PP
Contains the name of the scan object for which to display the scan jobs.
Mutually exclusive with the \f[C]--id\f[R] option.
.RE
.PP
\f[C]--id=scan_job_identifier\f[R]
.RS
.PP
Contains the identifier of a specified scan job to display.
Mutually exclusive with the \f[C]--name\f[R] option.
.RE
.PP
\f[C]--status=status\f[R]
.RS
.PP
Optional.
Filters the results by scan job state.
This value must be \f[C]created\f[R], \f[C]pending\f[R],
\f[C]running\f[R], \f[C]paused\f[R], \f[C]canceled\f[R],
\f[C]completed\f[R], or \f[C]failed\f[R].
.RE
.SS Controlling Scans
.PP
When scan jobs are queued and running, you might need to control the
execution of scan jobs due to the needs of other business processes in
your organization.
The \f[C]pause\f[R], \f[C]restart\f[R], and \f[C]cancel\f[R] subcommands
enable you to control scan job execution.
.PP
The \f[C]qpc scan pause\f[R] command halts the execution of a scan job,
but enables it to be restarted at a later time.
.PP
\f[B]qpc scan pause --id=\f[R] \f[I]scan_job_identifier\f[R]
.PP
\f[C]--id=scan_job_identifier\f[R]
.RS
.PP
Required.
Contains the identifier of the scan job to pause.
.RE
.PP
The \f[C]qpc scan restart\f[R] command restarts the execution of a scan
job that is paused.
.PP
\f[B]qpc scan restart --id=\f[R] \f[I]scan_job_identifier\f[R]
.PP
\f[C]--id=scan_job_identifier\f[R]
.RS
.PP
Required.
Contains the identifier of the scan job to restart.
.RE
.PP
The \f[C]qpc scan cancel\f[R] command cancels the execution of a scan
job.
A canceled scan job cannot be restarted.
.PP
\f[B]qpc scan cancel --id=\f[R] \f[I]scan_job_identifier\f[R]
.PP
\f[C]--id=scan_job_identifier\f[R]
.RS
.PP
Required.
Contains the identifier of the scan job to cancel.
.RE
.SH Reports
.PP
Use the \f[C]qpc report\f[R] command to retrieve a report from a scan.
You can retrieve a report in a JavaScript Object Notation (JSON) format
or in a comma-separated values (CSV) format.
There are three different types of reports that you can retrieve, a
\f[I]details\f[R] report, a \f[I]deployments\f[R] report, and an
\f[I]insights\f[R] report.
.SS Viewing the Details Report
.PP
The \f[C]qpc report details\f[R] command retrieves a detailed report
that contains the unprocessed facts that are gathered during a scan.
These facts are the raw output from Network, vCenter, and Satellite
scans, as applicable.
.PP
\f[B]qpc report details (--scan-job\f[R] \f[I]scan_job_identifier\f[R]
\f[B]|\f[R] \f[B]--report\f[R] \f[I]report_identifier\f[R] \f[B])\f[R]
\f[B](--json|--csv)\f[R] \f[B]--output-file\f[R] \f[I]path\f[R]
.PP
\f[C]--scan-job=scan_job_identifier\f[R]
.RS
.PP
Contains the scan job identifier to use to retrieve the report.
Mutually exclusive with the \f[C]--report\f[R] option.
.RE
.PP
\f[C]--report=report_identifier\f[R]
.RS
.PP
Contains the report identifier to use to retrieve the report.
Mutually exclusive with the \f[C]--scan-job\f[R] option.
.RE
.PP
\f[C]--json\f[R]
.RS
.PP
Displays the results of the report in JSON format.
Mutually exclusive with the \f[C]--csv\f[R] option.
.RE
.PP
\f[C]--csv\f[R]
.RS
.PP
Displays the results of the report in CSV format.
Mutually exclusive with the \f[C]--json\f[R] option.
.RE
.PP
\f[C]--output-file=path\f[R]
.RS
.PP
Required.
Sets the path to a file location where the report data is saved.
The file extension must be \f[C].json\f[R] for the JSON report or
\f[C].csv\f[R] for the CSV report.
.RE
.SS Viewing the Deployments Report
.PP
The \f[C]qpc report deployments\f[R] command retrieves a report that
contains the processed fingerprints from a scan.
A \f[I]fingerprint\f[R] is the set of system, product, and entitlement
facts for a particular physical or virtual machine.
A processed fingerprint results from a procedure that merges facts from
various sources, and, when possible, deduplicates redundant systems.
.PP
For example, the raw facts of a scan that includes both Network and
vCenter sources could show two instances of a machine, indicated by an
identical MAC address.
The deployments report results in a deduplicated and merged fingerprint
that shows both the Network and vCenter facts for that machine as a
single set.
.PP
\f[B]qpc report deployments (--scan-job\f[R]
\f[I]scan_job_identifier\f[R] \f[B]|\f[R] \f[B]--report\f[R]
\f[I]report_identifier\f[R] \f[B])\f[R] \f[B](--json|--csv)\f[R]
\f[B]--output-file\f[R] \f[I]path\f[R]
.PP
\f[C]--scan-job=scan_job_identifier\f[R]
.RS
.PP
Contains the scan job identifier to use to retrieve the report.
Mutually exclusive with the \f[C]--report\f[R] option.
.RE
.PP
\f[C]--report=report_identifier\f[R]
.RS
.PP
Contains the report identifier to use to retrieve the report.
Mutually exclusive with the \f[C]--scan-job\f[R] option.
.RE
.PP
\f[C]--json\f[R]
.RS
.PP
Displays the results of the report in JSON format.
Mutually exclusive with the \f[C]--csv\f[R] option.
.RE
.PP
\f[C]--csv\f[R]
.RS
.PP
Displays the results of the report in CSV format.
Mutually exclusive with the \f[C]--json\f[R] option.
.RE
.PP
\f[C]--output-file=path\f[R]
.RS
.PP
Required.
Sets the path to a file location where the report data is saved.
The file extension must be \f[C].json\f[R] for the JSON report or
\f[C].csv\f[R] for the CSV report.
.RE
.SS Viewing the Insights Report
.PP
The \f[C]qpc report insights\f[R] command retrieves a report that
contains the hosts to be uploaded to the subscription insights service.
A \f[I]host\f[R] is the set of system, product, and entitlement facts
for a particular physical or virtual machine.
.PP
\f[B]qpc report insights (--scan-job\f[R] \f[I]scan_job_identifier\f[R]
\f[B]|\f[R] \f[B]--report\f[R] \f[I]report_identifier\f[R] \f[B])\f[R]
\f[B]--output-file\f[R] \f[I]path\f[R]
.PP
\f[C]--scan-job=scan_job_identifier\f[R]
.RS
.PP
Contains the scan job identifier to use to retrieve the report.
Mutually exclusive with the \f[C]--report\f[R] option.
.RE
.PP
\f[C]--report=report_identifier\f[R]
.RS
.PP
Contains the report identifier to use to retrieve the report.
Mutually exclusive with the \f[C]--scan-job\f[R] option.
.RE
.PP
\f[C]--output-file=path\f[R]
.RS
.PP
Required.
Sets the path to a file location where the report data is saved.
The file extension must be \f[C].tar.gz\f[R].
.RE
.SS Downloading Reports
.PP
The \f[C]qpc report download\f[R] command downloads a set of reports,
identified either by scan job identifer or report identifier, as a
TAR.GZ file.
The report TAR.GZ file contains the details and deployments reports in
both their JSON and CSV formats.
.PP
\f[B]qpc report download (--scan-job\f[R] \f[I]scan_job_identifier\f[R]
\f[B]|\f[R] \f[B]--report\f[R] \f[I]report_identifier\f[R] \f[B])\f[R]
\f[B]--output-file\f[R] \f[I]path\f[R]
.PP
\f[C]--scan-job=scan_job_identifier\f[R]
.RS
.PP
Contains the scan job identifier to use to download the reports.
Mutually exclusive with the \f[C]--report\f[R] option.
.RE
.PP
\f[C]--report=report_identifier\f[R]
.RS
.PP
Contains the report identifier to use to download the reports.
Mutually exclusive with the \f[C]--scan-job\f[R] option.
.RE
.PP
\f[C]--output-file=path\f[R]
.RS
.PP
Required.
Sets the path to a file location where the report data is saved.
The file extension must be \f[C].tar.gz\f[R].
.RE
.SS Merging Scan Job Results
.PP
The \f[C]qpc report merge\f[R] command merges report data and returns
the report identifier of the merged report.
You can use this report identifier and the \f[C]qpc report\f[R] command
with the \f[C]details\f[R] or \f[C]deployments\f[R] subcommands to
retrieve a report from the merged results.
.PP
\f[B]qpc report merge (--job-ids\f[R] \f[I]scan_job_identifiers\f[R]
\f[B]|\f[R] \f[B]--report-ids\f[R] \f[I]report_identifiers\f[R]
\f[B]|\f[R] \f[B]--json-files\f[R] \f[I]json_details_report_files\f[R]
\f[B]|\f[R] \f[B]--json-directory\f[R]
\f[I]path_to_directory_of_json_files\f[R] \f[B])\f[R]
.PP
\f[C]--job-ids=scan_job_identifiers\f[R]
.RS
.PP
Contains the scan job identifiers of the report data that is to be
merged.
Mutually exclusive with the \f[C]--report-ids\f[R] option and the
\f[C]--json-files\f[R] option.
.RE
.PP
\f[C]--report-ids=report_identifiers\f[R]
.RS
.PP
Contains the report identifiers of the report data that is to be merged.
Mutually exclusive with the \f[C]--job-ids\f[R] option and the
\f[C]--json-files\f[R] option.
.RE
.PP
\f[C]--json-files=json_details_report_files\f[R]
.RS
.PP
Contains the JSON details report files to use to merge report data.
Mutually exclusive with the \f[C]--job-ids\f[R] option and the
\f[C]--report-ids\f[R] option.
.RE
.PP
\f[C]--json-directory=path_to_directory_of_json_files\f[R]
.RS
.PP
Contains a path to a directory with JSON details report files to use to
merge report data.
Mutually exclusive with the \f[C]--job-ids\f[R] and the
\f[C]--report-ids\f[R] option.
.RE
.PP
The \f[C]qpc report merge\f[R] command runs an asynchronous job.
The output of this command provides a job ID that you can use to check
the status of the merge job.
To check the status of a merge job, run the following command, where the
example job ID is \f[C]1\f[R]:
.IP
.nf
\f[C]
# qpc report merge-status --job 1
\f[R]
.fi
.SS Viewing the Status of a Report Merge
.PP
The \f[C]qpc report merge-status\f[R] command can be used to check the
status of a large merge of JSON details report files.
A large merge is created with the
\f[C]qpc report merge --json-directory=path_to_directory_of_json_files\f[R]
command.
This command returns a merge job ID that you can use to access the
status of the merge.
.PP
\f[B]qpc report merge-status (--job\f[R] \f[I]report_job_identifier\f[R]
\f[B])\f[R]
.PP
\f[C]--job=report_job_identifier\f[R]
.RS
.PP
Contains the job identifier to use to check for the status of a merge.
.RE
.SH Insights
.PP
Use the \f[C]qpc insights\f[R] command to interact with Red Hat Insights
and its services.
.SS Uploading to Insights
.PP
The \f[C]qpc insights upload\f[R] command can be used to upload an
insights report to Red Hat Insights and its services.
You can upload a report by using the associated report identifier or
scan job identifier for the scan that is used to generate the report.
.PP
\f[B]qpc insights upload (--scan-job\f[R] \f[I]scan_job_identifier\f[R]
\f[B]| --report\f[R] \f[I]report_identifiers\f[R] \f[B]|
--input-file\f[R] \f[I]path_to_tar_gz\f[R] \f[B]) [--no-gpg]\f[R]
.PP
\f[C]--scan-job=scan_job_identifier\f[R]
.RS
.PP
Contains the scan job identifier to use to retrieve and upload the
insights report.
Mutually exclusive with the \f[C]--report\f[R] option.
.RE
.PP
\f[C]--report=report_identifier\f[R]
.RS
.PP
Contains the report identifier to use to retrieve and upload the
insights report.
Mutually exclusive with the \f[C]--scan-job\f[R] option.
.RE
.PP
\f[C]--input-file=path to tar.gz containing the Insights report\f[R]
.RS
.PP
Contains the path to the tar.gz containing the Insights report.
.RE
.PP
\f[C]--no-gpg\f[R]
.RS
.PP
Optional.
Uploads the insights report without requiring the presence of GNU
Privacy Guard.
.RE
.SH Options for All Commands
.PP
The following options are available for every Quipucords command.
.PP
\f[C]--help\f[R]
.RS
.PP
Prints the help for the \f[C]qpc\f[R] command or subcommand.
.RE
.PP
\f[C]-v\f[R]
.RS
.PP
Enables the verbose mode.
The \f[C]-vvv\f[R] option increases verbosity to show more information.
The \f[C]-vvvv\f[R] option enables connection debugging.
.RE
.SH Examples
.TP
.B Creating a new network type credential with a keyfile
\f[C]qpc cred add --name=new_creds --type=network --username=qpc_user --sshkeyfile=/etc/ssh/ssh_host_rsa_key\f[R]
.TP
.B Creating a new network type credential with a password
\f[C]qpc cred add --name=other_creds --type=network --username=qpc_user_pass --password\f[R]
.TP
.B Creating a new vcenter type credential
\f[C]qpc cred add --name=vcenter_cred --type=vcenter --username=vc-user_pass --password\f[R]
.TP
.B Creating a new network source
\f[C]qpc source add --name=new_source --type network --hosts 1.192.0.19 1.192.0.20 --cred new_creds\f[R]
.TP
.B Creating a new network source with an excluded host
\f[C]qpc source add --name=new_source --type network --hosts 1.192.1.[0:255] --exclude-hosts 1.192.1.19 --cred new_creds\f[R]
.TP
.B Creating a new vcenter source
\f[C]qpc source add --name=new_source --type vcenter --hosts 1.192.0.19 --cred vcenter_cred\f[R]
.TP
.B Editing a source
\f[C]qpc source edit --name=new_source --hosts 1.192.0.[0:255] --cred new_creds other_creds\f[R]
.TP
.B Running a scan with one source
\f[C]qpc scan start --sources new_source\f[R]
.SH Security Considerations
.PP
The authentication data in the credentials and the network-specific and
system-specific data in sources are stored in an AES-256 encrypted value
within a database.
A vault password is used to encrpyt and decrypt values.
The vault password and decrypted values are in the system memory, and
could theoretically be written to disk if memory swapping is enabled.
.SH Authors
.PP
The Quipucords tool was originally written by Chris Hambridge
<<chambrid@redhat.com>>, Kevan Holdaway <<kholdawa@redhat.com>>, Ashley
Aiken <<aaiken@redhat.com>>, Cody Myers <<cmyers@redhat.com>>, and
Cecilia Carter <<cecarter@redhat.com>>.
.SH Copyright
.PP
Copyright 2018-2019 Red Hat, Inc.
Licensed under the GNU Public License version 3.
